"use strict";(self.webpackChunktrendcrm=self.webpackChunktrendcrm||[]).push([[451],{96451:function(n,t,e){e.r(t);var i=e(1413),r=e(70885),s=e(8440),u=e(59434),d=e(85017),o=e(96015),l=e(4565),a=e(16094),c=e(50550),f=e(72791),p=e(21830),x=e.n(p),g=e(58086),h=e.n(g),m=e(97731),v=e(86708),S=e(21764),b=e(90342),C=e(80184);t.default=function(){var n,t=(0,u.I0)(),e=(0,u.v9)((function(n){return n.ordersAll.getStatuses})),p=e.find((function(n){return"4"===n.id})),g=(0,u.v9)((function(n){return n.ordersAll.modalControl.status_update})),Z=(0,u.v9)((function(n){return n.ordersAll.columns})),j=(0,u.v9)((function(n){return n.ordersAll.isStatusUpdated})),k=(0,u.v9)((function(n){return n.ordersAll.tHeadColumnFiltered})),y=e.reduce((function(n,t,e,i){return-1===n.findIndex((function(n){return n.name===t.name}))&&0!==t.id&&n.push(t),n}),[]),A=(0,f.useState)(0),w=(0,r.Z)(A,2),I=w[0],O=w[1],T=(0,f.useState)(!1),z=(0,r.Z)(T,2),B=z[0],E=z[1],_=[];sessionStorage.getItem("selected")&&(_=null===(n=sessionStorage.getItem("selected"))||void 0===n?void 0:n.split(","));if(_.length>0){var H,K=null===Z||void 0===Z||null===(H=Z.find((function(n){return n.id===_[0]})))||void 0===H?void 0:H.status;p=null===e||void 0===e?void 0:e.find((function(n){return n.id===K}))}(0,f.useEffect)((function(){j&&(E(!0),B||N(),t((0,d.Me)({id:"isStatusUpdated",str:!1})))}),[j]);var N=function(){t((0,d.dK)({id:"status_update",str:!1})),h()(x()).fire({title:j?"\u041f\u0435\u0440\u0435\u043c\u0456\u0449\u0435\u043d\u043e":"\u0423\u0432\u0430\u0433\u0430!",text:j?"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043f\u0435\u0440\u0435\u043c\u0456\u0449\u0435\u043d\u043e":"\u041d\u0435 \u0432\u0441\u0456 \u0441\u0442\u0430\u0442\u0443\u0441\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",icon:j?"success":"error",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"}).then((function(n){n.isConfirmed&&(E(!1),$())}))},R={display:"flex",padding:"7px 12px",width:"100%"},U=function(n){var t=n.target.id.split("-")[2];Number(t)&&O(y[t])},$=function(){t((0,v.iX)()),(null===k||void 0===k?void 0:k.length)>0?t((0,v.lY)()):t((0,v.zk)())};return(0,C.jsx)(b.z,{Component:function(){return(0,C.jsx)(s.Z,{children:(0,C.jsxs)(o.Z,{sx:{width:"100%"},children:[(0,C.jsxs)(o.Z,{sx:{marginTop:"20px"},children:[(0,C.jsx)(l.Z,{sx:{fontSize:"16px",margin:"10px 0"},children:"\u041d\u043e\u0432\u0438\u0439 \u0441\u0442\u0430\u0442\u0443\u0441:"}),(0,C.jsx)(a.Z,{id:"status",disableClearable:!0,onChange:U,value:I||(p||null),options:y,getOptionLabel:function(n){return n.name},renderOption:function(n,t,e){e.selected;return(0,C.jsxs)("li",(0,i.Z)((0,i.Z)({style:R},n),{},{children:[t.style&&(0,C.jsx)("span",{style:{display:"block",width:"15px",height:"15px",borderRadius:"50%",backgroundColor:t.style,marginRight:"10px"}}),t.name]}),t.id)},sx:m.Q1,renderInput:function(n){return(0,C.jsx)(c.Z,(0,i.Z)({sx:m.cE},n))}})]}),(0,C.jsx)(S.E,{})]})})},funcOnClouse:function(n){t((0,d.dK)({id:"status_update",str:!1})),O(0)},open:g,sendButtonText:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",titleText:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0441\u0442\u0430\u0442\u0443\u0441 \u0434\u043b\u044f \u043a\u0456\u043b\u044c\u043a\u043e\u0445 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c",funcOnSend:function(){return _&&0!==_.length?_[0]&&1===_.length?(t((0,v.$0)({id:_[0],status:String(I.id)})),void N()):void(_.length>1&&_.map((function(n,e){Number(n)&&(t((0,v.$0)({id:String(n),status:String(I.id)})),e===_.length-1&&N())}))):t((0,d.t2)({message:"idSelectedWarn",type:"warn"}))},borderHeader:!0,borderAction:!1,alignAction:!0})}}}]);
//# sourceMappingURL=451.e4a9d8a3.chunk.js.map