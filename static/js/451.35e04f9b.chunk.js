"use strict";(self.webpackChunktrendcrm=self.webpackChunktrendcrm||[]).push([[451],{96451:function(t,n,e){e.r(n);var r=e(1413),i=e(70885),s=e(8440),u=e(59434),d=e(87026),o=e(96015),l=e(4565),a=e(4218),c=e(50550),f=e(72791),p=e(21830),x=e.n(p),g=e(58086),v=e.n(g),h=e(97731),m=e(86708),b=e(21764),S=e(90342),j=e(80184);n.default=function(){var t,n=(0,u.I0)(),e=(0,u.v9)((function(t){return t.ordersAll.getStatuses})),p=e.find((function(t){return"4"===t.id})),g=(0,u.v9)((function(t){return t.ordersAll.modalControl.status_update})),C=(0,u.v9)((function(t){return t.ordersAll.columns})),Z=(0,u.v9)((function(t){return t.ordersAll.isStatusUpdated})),k=(0,u.v9)((function(t){return t.ordersAll.tHeadColumnFiltered})),y=e.reduce((function(t,n,e,r){return-1===t.findIndex((function(t){return t.name===n.name}))&&0!==n.id&&t.push(n),t}),[]),A=(0,f.useState)(0),w=(0,i.Z)(A,2),I=w[0],O=w[1],T=[];sessionStorage.getItem("selected")&&(T=null===(t=sessionStorage.getItem("selected"))||void 0===t?void 0:t.split(","));if(T.length>0){var z,B=null===(z=C.find((function(t){return t.id===T[0]})))||void 0===z?void 0:z.status;p=null===e||void 0===e?void 0:e.find((function(t){return t.id===B}))}(0,f.useEffect)((function(){Z&&(E(),K(),n((0,d.Me)({id:"isStatusUpdated",str:!1})))}),[Z]);var E=function(){n((0,d.dK)({id:"status_update",str:!1})),v()(x()).fire({title:Z?"\u041f\u0435\u0440\u0435\u043c\u0456\u0449\u0435\u043d\u043e":"\u0423\u0432\u0430\u0433\u0430!",text:Z?"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043f\u0435\u0440\u0435\u043c\u0456\u0449\u0435\u043d\u043e":"\u041d\u0435 \u0432\u0441\u0456 \u0441\u0442\u0430\u0442\u0443\u0441\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",icon:Z?"success":"error",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"})},_={display:"flex",padding:"7px 12px",width:"100%"},H=function(t){var n=t.target.id.split("-")[2];Number(n)&&O(y[n].id)},K=function(){n((0,m.iX)()),(null===k||void 0===k?void 0:k.length)>0?n((0,m.lY)()):n((0,m.zk)())};return(0,j.jsx)(S.z,{Component:function(){return(0,j.jsx)(s.Z,{children:(0,j.jsxs)(o.Z,{sx:{width:"100%"},children:[(0,j.jsxs)(o.Z,{sx:{marginTop:"20px"},children:[(0,j.jsx)(l.Z,{sx:{fontSize:"16px",margin:"10px 0"},children:"\u041d\u043e\u0432\u0438\u0439 \u0441\u0442\u0430\u0442\u0443\u0441:"}),(0,j.jsx)(a.Z,{id:"status",disableClearable:!0,onChange:H,value:p,options:y,getOptionLabel:function(t){return t.name},renderOption:function(t,n,e){e.selected;return(0,j.jsxs)("li",(0,r.Z)((0,r.Z)({style:_},t),{},{children:[n.style&&(0,j.jsx)("span",{style:{display:"block",width:"15px",height:"15px",borderRadius:"50%",backgroundColor:n.style,marginRight:"10px"}}),n.name]}),n.id)},sx:h.Q1,renderInput:function(t){return(0,j.jsx)(c.Z,(0,r.Z)({sx:h.cE},t))}})]}),(0,j.jsx)(b.E,{})]})})},funcOnClouse:function(t){n((0,d.dK)({id:"status_update",str:!1}))},open:g,sendButtonText:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",titleText:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0441\u0442\u0430\u0442\u0443\u0441 \u0434\u043b\u044f \u043a\u0456\u043b\u044c\u043a\u043e\u0445 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c",funcOnSend:function(){return T&&0!==T.length?T[0]&&1===T.length?(E(),void n((0,m.$0)({id:T[0],status:String(I)}))):T.length>1?(E(),void T.map((function(t){Number(t)&&n((0,m.$0)({id:String(t),status:String(I)}))}))):void 0:n((0,d.t2)({message:"idSelectedWarn",type:"warn"}))},borderHeader:!0,borderAction:!1,alignAction:!0})}}}]);
//# sourceMappingURL=451.35e04f9b.chunk.js.map