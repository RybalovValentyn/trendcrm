"use strict";(self.webpackChunktrendcrm=self.webpackChunktrendcrm||[]).push([[713],{25030:function(e,t,n){n.d(t,{Fy:function(){return d},Wg:function(){return l},XO:function(){return u}});var i=n(76863),o=n(50550),a=n(1169),r=n(40286),d=((0,i.ZP)(o.Z)({"& label":{color:"#777777 !important",top:"-18px"},"& label.Mui-focused":{display:"none",opasity:0},"& .MuiInputBase-input":{borderRadius:"4px ",position:"relative",fontSize:"12px",padding:"0",color:r.k.inputHeadTextColor},"& .MuiOutlinedInput-root":{"& fieldset":{color:r.k.inputHeadTextColor,border:"none !important"},"&.Mui-focused fieldset":{border:"none !important"}},"& .MuiInputBase-root":{miWidth:"80px",padding:"3px 0px 1px 8px",minWidth:"80px",marginLeft:"10px",marginRight:"10px"},"& div.MuiFormControl-root":{position:"relative"},"& .MuiButtonBase-root":{padding:"0px",width:0,height:0,position:"absolute",zIndex:-2,top:0}}),(0,i.ZP)(a.ZP)((function(e){e.theme;return{"& .Mui-disabled":{backgroundColor:"#EEEEEE",cursor:"not-allowed"},"& .MuiInputBase-input":{borderRadius:"4px",position:"relative",fontSize:"12px",border:"1px solid ".concat(r.k.inputHeadBorderColor),padding:"2px 12px ",color:r.k.inputHeadTextColor,width:"100%",minWidth:"85px"}}}))),l={"& .MuiInputBase-input":{maxHeight:"23px",lineHeight:1.5,border:"1px solid ".concat(r.k.inputHeadBorderColor),borderRadius:"4px",color:r.k.inputTextColor,position:"relative",backgrounColor:"#fff",fontSize:"12px",padding:"2px 32px 2px 12px",minWidth:"65px",maxWidth:"86px"}},u={"& .MuiInputBase-input":{lineHeight:1.5,borderRadius:"4px",color:r.k.inputTextColor,position:"relative",backgrounColor:"#fff",fontSize:"12px",padding:"6px 32px 6px 12px",minWidth:"135px"}}},84713:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var i=n(96015),o=n(35702),a=n(81346),r=n(72791),d=n(25030),l=n(59434),u=n(87026),s=n(86708),p=n(1169),c=n(82548),x=n(1413),m=n(70885),f=n(7792),v=n(36571),h=n(21193),_=n(20818),g=(n(67448),n(29293),n(17205)),y=n(80184),b=function(e){var t=e.id,n=e.disp,o=e.textLabel,a=e.update,d=e.maxDate,u=e.minDate,s=(0,r.useState)("uk"),p=(0,m.Z)(s,2),c=p[0],b=(p[1],(0,l.I0)()),j=(0,r.useState)(!1),C=(0,m.Z)(j,2),k=C[0],B=C[1],w=(0,l.v9)((function(e){return e.ordersAll.searchParams})),Z=function(e){B(!1),b(n({id:e,str:""})),a()};return(0,y.jsx)(v._,{dateAdapter:f.y,adapterLocale:c,children:(0,y.jsxs)(i.Z,{sx:{position:"relative"},children:[(0,y.jsx)("span",{style:{position:"absolute",display:"block",width:"80px",height:"100%",border:"".concat(w[t]?"1px solid #212AFF":"1px solid #d0d0d0"," "),top:"-1px",left:10,borderRadius:"4px",backgroundColor:"".concat(w[t]?"#f0f0f0":"#fff"," ")}}),(0,y.jsx)(h.$,{id:t,open:k,onClose:function(){return B(!1)},disableOpenPicker:!0,inputFormat:"YYYY-MM-DD",value:w[t]?w[t]:null,label:"".concat(w[t]?"":o," "),maxDate:d,minDate:u,onChange:function(e){var i=e.format("YYYY-MM-DD T HH:mm:ss").toString().split("T")[0];B(!1),b(n({id:t,str:i})),a()},renderInput:function(e){return(0,y.jsx)(_.ww,(0,x.Z)({color:"success",onClick:function(){return B(!0)}},e))},components:{ActionBar:function(e){var t=e.actions;return(0,y.jsx)(i.Z,{sx:{width:"100%",textAlign:"center",padding:"0px 10px 10px 10px"},children:(0,y.jsx)(g.Z,{sx:{fontSize:"14px",textTransform:"none",color:"#333333",width:"100%","&:hover":{backgroundColor:"#e4dfdf"}},onClick:function(){return Z(t)},variant:"text",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438"})})}},componentsProps:{actionBar:{actions:t}}})]})})},j={PaperProps:{style:{maxHeight:244,width:200,overflowX:"hidden"}}},C=function(e){var t,n,i=e.id,r=e.InputStyle,d=e.listStyle,u=e.onChangeFunc,s=(0,l.v9)((function(e){return e.ordersAll.searchParams})),c=(0,l.v9)((function(e){return e.ordersAll})),x="";if("payment_type"===i){var m,f,v=s.payment_name.length>2?s.payment_name.split(",")[0]:s.payment_name;x=null===(m=c[i])||void 0===m||null===(f=m.find((function(e){return e.id===v})))||void 0===f?void 0:f.name}else x=null===(t=c[i])||void 0===t||null===(n=t.find((function(e){return e.id===s[i]})))||void 0===n?void 0:n.name;return(0,y.jsxs)(a.Z,{id:i,name:i,value:x||"",onChange:function(e){return u(e,i)},input:(0,y.jsx)(p.ZP,{sx:r}),MenuProps:j,displayEmpty:!0,defaultValue:"",children:[(0,y.jsx)(o.Z,{value:"",sx:d,children:"\u0412\u0441\u0456"}),c[i].map((function(e,t){return(0,y.jsx)(o.Z,{value:e.name,sx:d,children:e.name},t)}))]})},k={PaperProps:{style:{maxHeight:244,width:200,overflowX:"hidden"}}},B=function(e){var t,n,r=e.name,x=(0,l.I0)(),m=(0,l.v9)((function(e){return e.ordersAll.searchParams})),f=(0,l.v9)((function(e){return e.ordersAll.getStatuses})),v=(0,l.v9)((function(e){return e.ordersAll.tHeadColumnFiltered})),h=(0,l.v9)((function(e){return e.ordersAll})),_="";"status_name"===r&&(_=null!==f&&void 0!==f&&null!==(t=f.find((function(e){return e.id===m.status_name})))&&void 0!==t&&t.name?null===f||void 0===f||null===(n=f.find((function(e){return e.id===m.status_name})))||void 0===n?void 0:n.name:"");var g=function(e){var t=e.target.id,n=e.target.value.trim();if("id"!==t&&"client_phone"!==t&&"storage_income_price_sum"!==t&&"ttn_cost"!==t&&"total"!==t)if("id"===t||"client_phone"===t||"storage_income_price_sum"===t||"ttn_cost"===t||"total"===t||"client_num_ph"===t){if("client_num_ph"===t){var i=e.target.value.replace(/[^0-9.]/g,"");x((0,u.Bo)({id:"client_phone",str:i}))}}else x((0,u.Bo)({id:t,str:n}));else{var o=e.target.value.replace(/[^0-9.]/g,"");x((0,u.Bo)({id:t,str:o}))}},j=function(e){var t=e.target.id;"Enter"===e.key&&""!==m[t]&&B()},B=function(){sessionStorage.setItem("selected",""),(null===v||void 0===v?void 0:v.length)>0?(console.log(null===v||void 0===v?void 0:v.length),x((0,s.lY)())):x((0,s.zk)())},w=function(e,t){var n="";if(0===e.target.value||void 0===e.target.value||""===e.target.value)return"payment_type"===t?(x((0,u.Bo)({id:"payment_name",str:n})),B()):(x((0,u.Bo)({id:t,str:n})),B());if(e.target.value&&""!==e.target.value){var i,o,a;if("payment_type"===t){var r,d=null===(r=h[t])||void 0===r?void 0:r.find((function(t){return t.name===e.target.value}));return n=""===(null===d||void 0===d?void 0:d.prepay_status)?null===d||void 0===d?void 0:d.id:(null===d||void 0===d?void 0:d.id)+",".concat(null===d||void 0===d?void 0:d.prepay_status),x((0,u.Bo)({id:"payment_name",str:n})),B()}if("status_name"===t)return n=null===(a=f.find((function(t){return t.name===e.target.value})))||void 0===a?void 0:a.id,x((0,u.Bo)({id:t,str:n})),B();n=null===(i=h[t])||void 0===i||null===(o=i.find((function(t){return t.name===e.target.value})))||void 0===o?void 0:o.id,x((0,u.Bo)({id:t,str:n}))}B()},Z=function(e){var t=e.target.id;(""!==m[t]&&m[t]||"client_num_ph"===t&&""!==m.client_phone&&m.client_phone)&&B()};return"payment_name"===r?(0,y.jsx)(C,{id:"payment_type",dataForSelect:!1,InputStyle:d.Wg,listStyle:c.VX,onChangeFunc:w}):"packer_name"===r?(0,y.jsx)(C,{id:"packer_name",dataForSelect:!1,InputStyle:d.Wg,listStyle:c.VX,onChangeFunc:w}):"group_name"===r?(0,y.jsx)(C,{id:"group_name",dataForSelect:!1,InputStyle:d.Wg,listStyle:c.VX,onChangeFunc:w}):"status_name"===r?(0,y.jsxs)(a.Z,{id:"status_name",name:r,value:_,onChange:function(e){return w(e,r)},input:(0,y.jsx)(p.ZP,{sx:d.Wg}),displayEmpty:!0,renderValue:function(e){return(0,y.jsx)(i.Z,{children:""!==e?e:"\u0412\u0441\u0456"})},MenuProps:k,children:[(0,y.jsx)(o.Z,{value:"",sx:c.VX,children:"\u0412\u0441\u0456"}),f.map((function(e){return(0,y.jsxs)(o.Z,{value:e.name,sx:c.VX,children:[(0,y.jsx)("span",{style:{display:"block",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e.style,marginRight:"10px"}}),e.name]},e.id)}))]}):"datetime_sent"===r?(0,y.jsxs)(i.Z,{component:"form",sx:{width:"100%",maxWidth:"250px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,y.jsx)(b,{id:"datetime_sent_from",disp:u.Bo,textLabel:"\u0437",update:B,maxDate:m.datetime_sent_to}),(0,y.jsx)("span",{children:"-"}),(0,y.jsx)(b,{id:"datetime_sent_to",disp:u.Bo,textLabel:"\u043f\u043e",update:B,minDate:m.datetime_sent_from})]},r):"update_at"===r?(0,y.jsxs)(i.Z,{component:"form",sx:{width:"100%",maxWidth:"250px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,y.jsx)(b,{id:"update_date_from",disp:u.Bo,textLabel:"\u0437",update:B,maxDate:m.update_date_to}),(0,y.jsx)("span",{children:"-"}),(0,y.jsx)(b,{id:"update_date_to",disp:u.Bo,textLabel:"\u043f\u043e",update:B,minDate:m.update_date_from})]},r):"datetime"===r?(0,y.jsxs)(i.Z,{component:"form",sx:{width:"100%",maxWidth:"250px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,y.jsx)(b,{id:"create_date_from",disp:u.Bo,textLabel:"\u0437",update:B,maxDate:m.create_date_to}),(0,y.jsx)("span",{children:"-"}),(0,y.jsx)(b,{id:"create_date_to",disp:u.Bo,textLabel:"\u043f\u043e",update:B,minDate:m.create_date_from})]},r):"client_phone"===r?(0,y.jsx)(d.Fy,{autoComplete:"off",id:"client_num_ph",value:m.client_phone,onBlur:Z,onChange:g,onKeyDown:j}):(0,y.jsx)(d.Fy,{autoComplete:"off",id:r,value:m[r],onBlur:Z,onChange:g,onKeyDown:j})}}}]);
//# sourceMappingURL=713.11fc96c2.chunk.js.map