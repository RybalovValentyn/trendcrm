"use strict";(self.webpackChunktrendcrm=self.webpackChunktrendcrm||[]).push([[451],{96451:function(t,n,e){e.r(n);var r=e(1413),i=e(70885),s=e(8440),u=e(59434),o=e(87026),d=e(96015),l=e(4565),a=e(4218),c=e(50550),f=e(72791),p=e(21830),x=e.n(p),g=e(58086),h=e.n(g),m=e(97731),v=e(86708),S=e(21764),b=e(90342),C=e(80184);n.default=function(){var t,n=(0,u.I0)(),e=(0,u.v9)((function(t){return t.ordersAll.getStatuses})),p=e.find((function(t){return"4"===t.id})),g=(0,u.v9)((function(t){return t.ordersAll.modalControl.status_update})),Z=((0,u.v9)((function(t){return t.ordersAll.columns})),(0,u.v9)((function(t){return t.ordersAll.isStatusUpdated}))),j=(0,u.v9)((function(t){return t.ordersAll.tHeadColumnFiltered})),k=e.reduce((function(t,n,e,r){return-1===t.findIndex((function(t){return t.name===n.name}))&&0!==n.id&&t.push(n),t}),[]),y=(0,f.useState)(0),A=(0,i.Z)(y,2),w=A[0],I=A[1],O=(0,f.useState)(!1),T=(0,i.Z)(O,2),z=T[0],B=T[1],E=[];sessionStorage.getItem("selected")&&(E=null===(t=sessionStorage.getItem("selected"))||void 0===t?void 0:t.split(","));if(E.length>0)k.find((function(t){return t.id===E[0]}));(0,f.useEffect)((function(){Z&&(B(!0),z||_(),n((0,o.Me)({id:"isStatusUpdated",str:!1})))}),[Z]);var _=function(){n((0,o.dK)({id:"status_update",str:!1})),h()(x()).fire({title:Z?"\u041f\u0435\u0440\u0435\u043c\u0456\u0449\u0435\u043d\u043e":"\u0423\u0432\u0430\u0433\u0430!",text:Z?"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043f\u0435\u0440\u0435\u043c\u0456\u0449\u0435\u043d\u043e":"\u041d\u0435 \u0432\u0441\u0456 \u0441\u0442\u0430\u0442\u0443\u0441\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e",icon:Z?"success":"error",confirmButtonColor:"#3085d6",confirmButtonText:"Ok"}).then((function(t){t.isConfirmed&&(B(!1),N())}))},H={display:"flex",padding:"7px 12px",width:"100%"},K=function(t){var n=t.target.id.split("-")[2];Number(n)&&I(k[n])},N=function(){n((0,v.iX)()),(null===j||void 0===j?void 0:j.length)>0?n((0,v.lY)()):n((0,v.zk)())};return(0,C.jsx)(b.z,{Component:function(){return(0,C.jsx)(s.Z,{children:(0,C.jsxs)(d.Z,{sx:{width:"100%"},children:[(0,C.jsxs)(d.Z,{sx:{marginTop:"20px"},children:[(0,C.jsx)(l.Z,{sx:{fontSize:"16px",margin:"10px 0"},children:"\u041d\u043e\u0432\u0438\u0439 \u0441\u0442\u0430\u0442\u0443\u0441:"}),(0,C.jsx)(a.Z,{id:"status",disableClearable:!0,onChange:K,value:w||(p||null),options:k,getOptionLabel:function(t){return t.name},renderOption:function(t,n,e){e.selected;return(0,C.jsxs)("li",(0,r.Z)((0,r.Z)({style:H},t),{},{children:[n.style&&(0,C.jsx)("span",{style:{display:"block",width:"15px",height:"15px",borderRadius:"50%",backgroundColor:n.style,marginRight:"10px"}}),n.name]}),n.id)},sx:m.Q1,renderInput:function(t){return(0,C.jsx)(c.Z,(0,r.Z)({sx:m.cE},t))}})]}),(0,C.jsx)(S.E,{})]})})},funcOnClouse:function(t){n((0,o.dK)({id:"status_update",str:!1}))},open:g,sendButtonText:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",titleText:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0441\u0442\u0430\u0442\u0443\u0441 \u0434\u043b\u044f \u043a\u0456\u043b\u044c\u043a\u043e\u0445 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c",funcOnSend:function(){return E&&0!==E.length?E[0]&&1===E.length?(n((0,v.$0)({id:E[0],status:String(w.id)})),void _()):void(E.length>1&&E.map((function(t,e){Number(t)&&(console.log(e===E.length-1,w),n((0,v.$0)({id:String(t),status:String(w.id)})),e===E.length-1&&_())}))):n((0,o.t2)({message:"idSelectedWarn",type:"warn"}))},borderHeader:!0,borderAction:!1,alignAction:!0})}}}]);
//# sourceMappingURL=451.e4855f5d.chunk.js.map