"use strict";(self.webpackChunktrendcrm=self.webpackChunktrendcrm||[]).push([[713],{25030:function(e,t,n){n.d(t,{Fy:function(){return d},Wg:function(){return u},XO:function(){return l}});var i=n(60277),o=n(50550),r=n(1169),a=n(40286),d=((0,i.ZP)(o.Z)({"& label":{color:"#777777 !important",top:"-18px"},"& label.Mui-focused":{display:"none",opasity:0},"& .MuiInputBase-input":{borderRadius:"4px ",position:"relative",fontSize:"12px",padding:"0",color:a.k.inputHeadTextColor},"& .MuiOutlinedInput-root":{"& fieldset":{color:a.k.inputHeadTextColor,border:"none !important"},"&.Mui-focused fieldset":{border:"none !important"}},"& .MuiInputBase-root":{miWidth:"80px",padding:"3px 0px 1px 8px",minWidth:"80px",marginLeft:"10px",marginRight:"10px"},"& div.MuiFormControl-root":{position:"relative"},"& .MuiButtonBase-root":{padding:"0px",width:0,height:0,position:"absolute",zIndex:-2,top:0}}),(0,i.ZP)(r.ZP)((function(e){e.theme;return{"& .Mui-disabled":{backgroundColor:"#EEEEEE",cursor:"not-allowed"},"& .MuiInputBase-input":{borderRadius:"4px",position:"relative",fontSize:"12px",border:"1px solid ".concat(a.k.inputHeadBorderColor),padding:"2px 12px ",color:a.k.inputHeadTextColor,width:"100%",minWidth:"85px"}}}))),u={"& .MuiInputBase-input":{maxHeight:"23px",lineHeight:1.5,border:"1px solid ".concat(a.k.inputHeadBorderColor),borderRadius:"4px",color:a.k.inputTextColor,position:"relative",backgrounColor:"#fff",fontSize:"12px",padding:"2px 32px 2px 12px",minWidth:"65px",maxWidth:"86px"}},l={"& .MuiInputBase-input":{lineHeight:1.5,borderRadius:"4px",color:a.k.inputTextColor,position:"relative",backgrounColor:"#fff",fontSize:"12px",padding:"6px 32px 6px 12px",minWidth:"135px"}}},84713:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var i=n(96015),o=n(35702),r=n(81346),a=n(72791),d=n(25030),u=n(59434),l=n(78365),s=n(86708),p=n(1169),c=n(82548),x=n(1413),m=n(70885),f=n(7792),v=n(36571),h=n(21193),g=n(20818),_=(n(67448),n(29293),n(17205)),y=n(80184),b=function(e){var t=e.id,n=e.disp,o=e.textLabel,r=e.update,d=e.maxDate,l=e.minDate,s=(0,a.useState)("uk"),p=(0,m.Z)(s,2),c=p[0],b=(p[1],(0,u.I0)()),j=(0,a.useState)(!1),C=(0,m.Z)(j,2),B=C[0],k=C[1],w=(0,u.v9)((function(e){return e.ordersAll.searchParams})),Z=function(e){k(!1),b(n({id:e,str:""})),r()};return(0,y.jsx)(v._,{dateAdapter:f.y,adapterLocale:c,children:(0,y.jsxs)(i.Z,{sx:{position:"relative"},children:[(0,y.jsx)("span",{style:{position:"absolute",display:"block",width:"80px",height:"100%",border:"".concat(w[t]?"1px solid #212AFF":"1px solid #d0d0d0"," "),top:"-1px",left:10,borderRadius:"4px",backgroundColor:"".concat(w[t]?"#f0f0f0":"#fff"," ")}}),(0,y.jsx)(h.$,{id:t,open:B,onClose:function(){return k(!1)},disableOpenPicker:!0,inputFormat:"YYYY-MM-DD",value:w[t]?w[t]:null,label:"".concat(w[t]?"":o," "),maxDate:d,minDate:l,onChange:function(e){var i=e.format("YYYY-MM-DD T HH:mm:ss").toString().split("T")[0];k(!1),b(n({id:t,str:i})),r()},renderInput:function(e){return(0,y.jsx)(g.ww,(0,x.Z)({color:"success",onClick:function(){return k(!0)}},e))},components:{ActionBar:function(e){var t=e.actions;return(0,y.jsx)(i.Z,{sx:{width:"100%",textAlign:"center",padding:"0px 10px 10px 10px"},children:(0,y.jsx)(_.Z,{sx:{fontSize:"14px",textTransform:"none",color:"#333333",width:"100%","&:hover":{backgroundColor:"#e4dfdf"}},onClick:function(){return Z(t)},variant:"text",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438"})})}},componentsProps:{actionBar:{actions:t}}})]})})},j={PaperProps:{style:{maxHeight:244,width:200,overflowX:"hidden"}}},C=function(e){var t,n,i=e.id,a=e.InputStyle,d=e.listStyle,l=e.onChangeFunc,s=(0,u.v9)((function(e){return e.ordersAll.searchParams})),c=(0,u.v9)((function(e){return e.ordersAll})),x="";if("payment_type"===i){var m,f,v=s.payment_name.length>2?s.payment_name.split(",")[0]:s.payment_name;x=null===(m=c[i])||void 0===m||null===(f=m.find((function(e){return e.id===v})))||void 0===f?void 0:f.name}else x=null===(t=c[i])||void 0===t||null===(n=t.find((function(e){return e.id===s[i]})))||void 0===n?void 0:n.name;return(0,y.jsxs)(r.Z,{id:i,name:i,value:x||"",onChange:function(e){return l(e,i)},input:(0,y.jsx)(p.ZP,{sx:a}),MenuProps:j,displayEmpty:!0,defaultValue:"",children:[(0,y.jsx)(o.Z,{value:"",sx:d,children:"\u0412\u0441\u0456"}),c[i].map((function(e,t){return(0,y.jsx)(o.Z,{value:e.name,sx:d,children:e.name},t)}))]})},B={PaperProps:{style:{maxHeight:244,width:200,overflowX:"hidden"}}},k=function(e){var t,n,a=e.name,x=(0,u.I0)(),m=(0,u.v9)((function(e){return e.ordersAll.searchParams})),f=(0,u.v9)((function(e){return e.ordersAll.getStatuses})),v=(0,u.v9)((function(e){return e.ordersAll.tHeadColumnFiltered})),h=(0,u.v9)((function(e){return e.ordersAll})),g="";"status_name"===a&&(g=null!==f&&void 0!==f&&null!==(t=f.find((function(e){return e.id===m.status_name})))&&void 0!==t&&t.name?null===f||void 0===f||null===(n=f.find((function(e){return e.id===m.status_name})))||void 0===n?void 0:n.name:"");var _=function(e){var t=e.target.id,n=e.target.value.trim();if("id"!==t&&"client_phone"!==t&&"storage_income_price_sum"!==t&&"ttn_cost"!==t&&"total"!==t)if("id"===t||"client_phone"===t||"storage_income_price_sum"===t||"ttn_cost"===t||"total"===t||"client_num_ph"===t){if("client_num_ph"===t){var i=e.target.value.replace(/[^0-9.]/g,"");x((0,l.Bo)({id:"client_phone",str:i}))}}else x((0,l.Bo)({id:t,str:n}));else{var o=e.target.value.replace(/[^0-9.]/g,"");x((0,l.Bo)({id:t,str:o}))}},j=function(e){var t=e.target.id;"Enter"===e.key&&""!==m[t]&&k()},k=function(){sessionStorage.setItem("selected",""),(null===v||void 0===v?void 0:v.length)>0?(console.log(null===v||void 0===v?void 0:v.length),x((0,s.lY)())):x((0,s.zk)())},w=function(e,t){var n="";if(0===e.target.value||void 0===e.target.value||""===e.target.value)return"payment_type"===t?(x((0,l.Bo)({id:"payment_name",str:n})),k()):(x((0,l.Bo)({id:t,str:n})),k());if(e.target.value&&""!==e.target.value){var i,o,r;if("payment_type"===t){var a,d=null===(a=h[t])||void 0===a?void 0:a.find((function(t){return t.name===e.target.value}));return n=""===(null===d||void 0===d?void 0:d.prepay_status)?null===d||void 0===d?void 0:d.id:(null===d||void 0===d?void 0:d.id)+",".concat(null===d||void 0===d?void 0:d.prepay_status),x((0,l.Bo)({id:"payment_name",str:n})),k()}if("status_name"===t)return n=null===(r=f.find((function(t){return t.name===e.target.value})))||void 0===r?void 0:r.id,x((0,l.Bo)({id:t,str:n})),k();n=null===(i=h[t])||void 0===i||null===(o=i.find((function(t){return t.name===e.target.value})))||void 0===o?void 0:o.id,x((0,l.Bo)({id:t,str:n}))}k()},Z=function(e){x((0,l.Bo)({id:"prevalue",str:m[e]})),x((0,l.Bo)({id:"searchId",str:m[e]}))},S=function(e){m.prevalue!==m[e]&&(x((0,l.Bo)({id:"prevalue",str:""})),x((0,l.Bo)({id:"searchId",str:""})),k())};return"payment_name"===a?(0,y.jsx)(C,{id:"payment_type",dataForSelect:!1,InputStyle:d.Wg,listStyle:c.VX,onChangeFunc:w}):"packer_name"===a?(0,y.jsx)(C,{id:"packer_name",dataForSelect:!1,InputStyle:d.Wg,listStyle:c.VX,onChangeFunc:w}):"group_name"===a?(0,y.jsx)(C,{id:"group_name",dataForSelect:!1,InputStyle:d.Wg,listStyle:c.VX,onChangeFunc:w}):"status_name"===a?(0,y.jsxs)(r.Z,{id:"status_name",name:a,value:g,onChange:function(e){return w(e,a)},input:(0,y.jsx)(p.ZP,{sx:d.Wg}),displayEmpty:!0,renderValue:function(e){return(0,y.jsx)(i.Z,{children:""!==e?e:"\u0412\u0441\u0456"})},MenuProps:B,children:[(0,y.jsx)(o.Z,{value:"",sx:c.VX,children:"\u0412\u0441\u0456"}),f.map((function(e){return(0,y.jsxs)(o.Z,{value:e.name,sx:c.VX,children:[(0,y.jsx)("span",{style:{display:"block",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e.style,marginRight:"10px"}}),e.name]},e.id)}))]}):"datetime_sent"===a?(0,y.jsxs)(i.Z,{component:"form",sx:{width:"100%",maxWidth:"250px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,y.jsx)(b,{id:"datetime_sent_from",disp:l.Bo,textLabel:"\u0437",update:k,maxDate:m.datetime_sent_to}),(0,y.jsx)("span",{children:"-"}),(0,y.jsx)(b,{id:"datetime_sent_to",disp:l.Bo,textLabel:"\u043f\u043e",update:k,minDate:m.datetime_sent_from})]},a):"update_at"===a?(0,y.jsxs)(i.Z,{component:"form",sx:{width:"100%",maxWidth:"250px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,y.jsx)(b,{id:"update_date_from",disp:l.Bo,textLabel:"\u0437",update:k,maxDate:m.update_date_to}),(0,y.jsx)("span",{children:"-"}),(0,y.jsx)(b,{id:"update_date_to",disp:l.Bo,textLabel:"\u043f\u043e",update:k,minDate:m.update_date_from})]},a):"datetime"===a?(0,y.jsxs)(i.Z,{component:"form",sx:{width:"100%",maxWidth:"250px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,y.jsx)(b,{id:"create_date_from",disp:l.Bo,textLabel:"\u0437",update:k,maxDate:m.create_date_to}),(0,y.jsx)("span",{children:"-"}),(0,y.jsx)(b,{id:"create_date_to",disp:l.Bo,textLabel:"\u043f\u043e",update:k,minDate:m.create_date_from})]},a):"client_phone"===a?(0,y.jsx)(d.Fy,{autoComplete:"off",id:"client_num_ph",value:m.client_phone,onFocus:function(){return Z("client_phone")},onBlur:function(){return S("client_phone")},onChange:_,onKeyDown:j}):(0,y.jsx)(d.Fy,{autoComplete:"off",id:a,value:m[a],onFocus:function(){return Z(a)},onBlur:function(){return S(a)},onChange:_,onKeyDown:j})}}}]);
//# sourceMappingURL=713.82d6b240.chunk.js.map